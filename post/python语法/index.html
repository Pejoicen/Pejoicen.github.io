<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Python3 常用语法 - Pejoicen&#39;s Blog Powered by Hugo | Theme Even</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Pejoicen" /><meta name="description" content="整理Python3 常用语法
" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.56.3 with even 4.0.0" />


<link rel="canonical" href="https://pejoicen.github.io/post/python%E8%AF%AD%E6%B3%95/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="/dist/even.c2a46f00.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Python3 常用语法" />
<meta property="og:description" content="整理Python3 常用语法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pejoicen.github.io/post/python%E8%AF%AD%E6%B3%95/" />
<meta property="article:published_time" content="2019-09-27T20:46:32+08:00" />
<meta property="article:modified_time" content="2019-09-27T20:46:32+08:00" />
<meta itemprop="name" content="Python3 常用语法">
<meta itemprop="description" content="整理Python3 常用语法">


<meta itemprop="datePublished" content="2019-09-27T20:46:32&#43;08:00" />
<meta itemprop="dateModified" content="2019-09-27T20:46:32&#43;08:00" />
<meta itemprop="wordCount" content="5863">



<meta itemprop="keywords" content="Python,语法," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python3 常用语法"/>
<meta name="twitter:description" content="整理Python3 常用语法"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Pejoicen&#39;s Blog Powered by Hugo</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Pejoicen&#39;s Blog Powered by Hugo</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Python3 常用语法</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-09-27 </span>
        <div class="post-category">
            <a href="/categories/python/"> Python </a>
            </div>
          <span class="more-meta"> 约 5863 字 </span>
          <span class="more-meta"> 预计阅读 12 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#python3-常用语法记录">Python3 常用语法记录</a></li>
<li><a href="#基础语句">基础语句</a>
<ul>
<li><a href="#输入和输出-命令行">输入和输出（命令行）</a></li>
<li><a href="#循环语句">循环语句</a></li>
</ul></li>
<li><a href="#数据类型">数据类型</a>
<ul>
<li><a href="#number">Number</a>
<ul>
<li><a href="#bytes">bytes</a></li>
<li><a href="#str-bytes"><strong>str =&gt; bytes</strong></a></li>
<li><a href="#int-bytes"><strong>int&lt;=&gt;bytes</strong></a></li>
</ul></li>
<li><a href="#字符串和编码">字符串和编码</a>
<ul>
<li><a href="#字符串操作">字符串操作</a></li>
<li><a href="#数字格式化">数字格式化</a></li>
<li><a href="#字符串格式化">字符串格式化</a></li>
</ul></li>
</ul></li>
<li><a href="#全局变量">全局变量</a></li>
<li><a href="#文件操作">文件操作</a>
<ul>
<li><a href="#open-方法">open() 方法</a></li>
<li><a href="#file-对象">file 对象</a></li>
<li><a href="#读文件">读文件</a></li>
<li><a href="#写文件">写文件</a></li>
</ul></li>
<li><a href="#文件路径">文件路径</a></li>
<li><a href="#类">类</a>
<ul>
<li><a href="#类和实体">类和实体</a></li>
</ul></li>
<li><a href="#多线程">多线程</a>
<ul>
<li><a href="#threading模块创建线程">threading模块创建线程</a></li>
<li><a href="#线程停止">线程停止</a></li>
<li><a href="#线程同步">线程同步</a></li>
</ul></li>
<li><a href="#时间-日期">时间、日期</a>
<ul>
<li><a href="#获取当前时间">获取当前时间</a></li>
<li><a href="#获取格式化的时间">获取格式化的时间</a></li>
<li><a href="#格式化日期">格式化日期</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>整理Python3 常用语法</p>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">2019年8月20日</td>
<td align="left">init</td>
</tr>

<tr>
<td align="left">2019年9月27日</td>
<td align="left">更新文件相关和多线程部分内容</td>
</tr>
</tbody>
</table>

<h1 id="python3-常用语法记录">Python3 常用语法记录</h1>

<p>注释：#<br />
<strong>严格要求缩进！！！</strong><br />
大小写敏感<br />
变量不固定的动态语言</p>

<h1 id="基础语句">基础语句</h1>

<h2 id="输入和输出-命令行">输入和输出（命令行）</h2>

<p><strong>输出</strong><br />
print(),括号中可以是字符串也可以是变量。也可以是多个字符串，用逗号隔开即可。</p>

<p><strong>输入</strong><br />
input(),在()中可以加入字符串打印到屏幕上，可以省略一个print()函数。</p>

<h2 id="循环语句">循环语句</h2>

<p>while</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">var</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">var</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">:</span>  <span class="c1"># 表达式永远为 true</span>
   <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&#34;输入一个数字  :&#34;</span><span class="p">))</span>
   <span class="k">print</span> <span class="p">(</span><span class="s2">&#34;你输入的数字是: &#34;</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
 
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
   <span class="k">print</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="s2">&#34; 小于 5&#34;</span><span class="p">)</span>
   <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="s2">&#34; 大于或等于 5&#34;</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>for</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">sequence</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">statements</span><span class="o">&gt;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">statements</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>经常使用range()函数创建一个列表</p>

<p>range(start, stop[, step])</p>

<p>参数说明：</p>

<ul>
<li>start: 计数从 start 开始。默认是从 0 开始。例如range（5）等价于range（0， 5）;</li>
<li>stop: 计数到 stop 结束，但不包括 stop。例如：range（0， 5） 是[0, 1, 2, 3, 4]没有5</li>
<li>step：步长，默认为1。例如：range（0， 5） 等价于 range(0, 5, 1)</li>
</ul>

<h1 id="数据类型">数据类型</h1>

<p>str bytes Number</p>

<p>Python 3最重要的新特性之一是对<strong>字符串</strong>和<strong>二进制数据流</strong>做了明确的区分。<br />
文本总是Unicode，由<strong>str</strong>类型表示，二进制数据则由<strong>bytes</strong>类型表示<br />
Python 3不会以任意隐式的方式混用str和bytes<br />
字符串类str里有一个encode()方法，它是从字符串向比特流的编码过程。<br />
bytes类型恰好有个decode()方法，它是从比特流向字符串解码的过程。</p>

<h2 id="number">Number</h2>

<p>python中数字有四种类型：整数、布尔型、浮点数和复数。</p>

<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>int</strong></td>
<td>整数</td>
<td>如 1,只有一种整数类型 int,表示为长整型.</td>
</tr>

<tr>
<td><strong>bool</strong></td>
<td>布尔</td>
<td>如 True</td>
</tr>

<tr>
<td><strong>float</strong></td>
<td>浮点数</td>
<td>如 1.23、3E-2</td>
</tr>

<tr>
<td><strong>complex</strong></td>
<td>复数</td>
<td>如 1 + 2j、 1.1 + 2.2j</td>
</tr>
</tbody>
</table>

<p>例：<br />
* a = 0x66  : 0b(2进制) 0o(8进制) 0x(16进制) 正常为10进制<br />
* b = 0.66<br />
* c = 6+6j<br />
* d = True</p>

<p>算术运算</p>

<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td><strong>+</strong></td>
<td>加 - 两个对象相加</td>
<td>a + b 输出结果 31</td>
</tr>

<tr>
<td><strong>-</strong></td>
<td>减 - 得到负数或是一个数减去另一个数</td>
<td>a - b 输出结果 -11</td>
</tr>

<tr>
<td><strong>*</strong></td>
<td>乘 - 两个数相乘或是返回一个被重复若干次的字符串</td>
<td>a * b 输出结果 210</td>
</tr>

<tr>
<td><strong>/</strong></td>
<td>除 - x 除以 y</td>
<td>b /  a 输出结果 2.1</td>
</tr>

<tr>
<td><strong>%</strong></td>
<td>取模 - 返回除法的余数</td>
<td>b %  a 输出结果 1</td>
</tr>

<tr>
<td><strong>**</strong></td>
<td>幂 - 返回x的y次幂</td>
<td>a**b 为10的21次方</td>
</tr>

<tr>
<td><strong>//</strong></td>
<td>取整除 - 向下取接近除数的整数</td>
<td>9//2=4  -9//2=-5</td>
</tr>
</tbody>
</table>

<h3 id="bytes">bytes</h3>

<p>字节流</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x12\x34\x56</span><span class="s1">&#39;</span>	<span class="c1"># 16进制赋值</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>	<span class="c1"># 打印为bytes,最后一个不显示（a[2]）</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>		<span class="c1"># 打印为int</span>
<span class="c1">#获取长度</span>
<span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>结果：</p>

<blockquote>
<p>b&rsquo;\x12\x34&rsquo;</p>

<p>18</p>

<p>3</p>
</blockquote>

<h3 id="str-bytes"><strong>str =&gt; bytes</strong></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;abcdef&#39;</span>  <span class="c1"># 字符串赋值</span>
<span class="n">a_bytes</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># 将str 转为 bytes  </span>
<span class="k">print</span><span class="p">(</span><span class="n">a_bytes</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a_bytes</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span>   <span class="c1"># 将bytes 转 str</span>
<span class="k">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>  </code></pre></td></tr></table>
</div>
</div>
<p>显示结果：</p>

<blockquote>
<p>b&rsquo;\xab\xcd\xef ‘</p>

<p>abcdef</p>
</blockquote>

<p>bytes.hex(self: bytes)</p>

<p>B.hex() -&gt; string</p>

<p>Example: b&rsquo;\xb9\x01\xef&rsquo;.hex() -&gt; &lsquo;b901ef&rsquo;.</p>

<h3 id="int-bytes"><strong>int&lt;=&gt;bytes</strong></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">to_bytes</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">byteorder</span><span class="p">)</span><span class="err">和</span><span class="n">from_bytes</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">byteorder</span><span class="p">)</span>

<span class="n">TC1</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">TC_value</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">TC_bytes</span> <span class="o">=</span> <span class="n">TC_value</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">byteorder</span><span class="o">=</span><span class="s1">&#39;little&#39;</span><span class="p">)</span> <span class="c1"># 整型转字节流</span>
<span class="n">TC_value</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">TC_bytes</span><span class="p">,</span><span class="n">byteorder</span><span class="o">=</span><span class="s1">&#39;little&#39;</span><span class="p">)</span> <span class="c1"># 字节流转整型</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="字符串和编码">字符串和编码</h2>

<p>&ldquo;或&rdquo;&ldquo;，中间的内容为字符串内容。&rdquo;&rsquo; &ldquo;&rsquo; 表示多行字符串<br />
<strong>转义</strong> 字符&rdquo;\&ldquo;,\&lsquo;=&gt;&rsquo;,\=&gt;.  \r\n<br />
Python3中使用Unicode编码<br />
str.encode(&lsquo;ascii&rsquo;)或(&lsquo;utf-8&rsquo;)可以指定编码
len()是计算长度的函数，可以len(str.encode(&lsquo;utf-8&rsquo;))</p>

<h3 id="字符串操作">字符串操作</h3>

<p>[ : ]  截取字符串中的一部分，遵循<strong>左闭右开</strong>原则，str[0,2] 是不包含第 3 个字符的。</p>

<p>截取字符串使用 变量[头下标:尾下标]，就可以截取相应的字符串，其中下标是从0开始算起，可以是正数或负数，下标可以为空表示取到头或尾。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;12345678&#39;</span>
<span class="k">print</span> <span class="nb">str</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;</span> <span class="mi">1</span>			<span class="c1"># 输出str位置0开始到位置1以前的字符</span>
<span class="k">print</span> <span class="nb">str</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>		
<span class="o">&gt;&gt;</span> <span class="mi">23456</span>			<span class="c1"># 输出str位置1开始到位置6以前的字符</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">18</span>
<span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;0000&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>	<span class="c1"># 合并字符串</span>
<span class="k">print</span> <span class="nb">str</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>		<span class="c1"># 输出字符串右5位</span>
<span class="o">&gt;&gt;</span> <span class="mo">0001</span><span class="mi">8</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="数字格式化">数字格式化</h3>

<p>str.format()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s2">&#34;{:.2f}&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">3.1415926</span><span class="p">));</span>
<span class="mf">3.14</span></code></pre></td></tr></table>
</div>
</div>
<table>
<thead>
<tr>
<th align="left">数字</th>
<th align="left">格式</th>
<th align="left">输出</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">3.1415926</td>
<td align="left">{:.2f}</td>
<td align="left">3.14</td>
<td align="left">保留小数点后两位</td>
</tr>

<tr>
<td align="left">3.1415926</td>
<td align="left">{:+.2f}</td>
<td align="left">+3.14</td>
<td align="left">带符号保留小数点后两位</td>
</tr>

<tr>
<td align="left">-1</td>
<td align="left">{:+.2f}</td>
<td align="left">-1.00</td>
<td align="left">带符号保留小数点后两位</td>
</tr>

<tr>
<td align="left">2.71828</td>
<td align="left">{:.0f}</td>
<td align="left">3</td>
<td align="left">不带小数</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left">{:0&gt;2d}</td>
<td align="left">05</td>
<td align="left">数字补零 (填充左边, 宽度为2)</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left">{:x&lt;4d}</td>
<td align="left">5xxx</td>
<td align="left">数字补x (填充右边, 宽度为4)</td>
</tr>

<tr>
<td align="left">10</td>
<td align="left">{:x&lt;4d}</td>
<td align="left">10xx</td>
<td align="left">数字补x (填充右边, 宽度为4)</td>
</tr>

<tr>
<td align="left">1000000</td>
<td align="left">{:,}</td>
<td align="left">1,000,000</td>
<td align="left">以逗号分隔的数字格式</td>
</tr>

<tr>
<td align="left">0.25</td>
<td align="left">{:.2%}</td>
<td align="left">25.00%</td>
<td align="left">百分比格式</td>
</tr>

<tr>
<td align="left">1000000000</td>
<td align="left">{:.2e}</td>
<td align="left">1.00e+09</td>
<td align="left">指数记法</td>
</tr>

<tr>
<td align="left">13</td>
<td align="left">{:10d}</td>
<td align="left">13</td>
<td align="left">右对齐 (默认, 宽度为10)</td>
</tr>

<tr>
<td align="left">13</td>
<td align="left">{:&lt;10d}</td>
<td align="left">13</td>
<td align="left">左对齐 (宽度为10)</td>
</tr>

<tr>
<td align="left">13</td>
<td align="left">{:^10d}</td>
<td align="left">13</td>
<td align="left">中间对齐 (宽度为10)</td>
</tr>

<tr>
<td align="left">11</td>
<td align="left"><code>'{:b}'.format(11) '{:d}'.format(11) '{:o}'.format(11) '{:x}'.format(11) '{:#x}'.format(11) '{:#X}'.format(11)</code></td>
<td align="left"><code>1011 11 13 b 0xb 0XB</code></td>
<td align="left">进制</td>
</tr>
</tbody>
</table>

<h3 id="字符串格式化">字符串格式化</h3>

<p>和C里面的用法一样，甚至也可以指定长度</p>

<table>
<thead>
<tr>
<th>占位符</th>
<th align="left">替换内容</th>
</tr>
</thead>

<tbody>
<tr>
<td>%d</td>
<td align="left">整数</td>
</tr>

<tr>
<td>%f</td>
<td align="left">浮点数</td>
</tr>

<tr>
<td>%s</td>
<td align="left">字符串</td>
</tr>

<tr>
<td>%x</td>
<td align="left">十六进制整数</td>
</tr>
</tbody>
</table>

<p>举例</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">workdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>               <span class="c1">#获得当前路径 </span>
<span class="k">print</span> <span class="p">(</span> <span class="s1">&#39;当前工作路径为:</span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">workdir</span><span class="p">)</span> <span class="p">)</span>

<span class="c1">#当需要格式化多个数字时可以试应format方法：</span>
<span class="c1"># 占位：{}</span>
<span class="s1">&#39;睡眠总时间{a:.2f}小时,睡眠时间分{b:.2f},入睡时间分{c:.2f}</span><span class="se">\n\r</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">SleepTotalTime</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">SleepScores</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">inSleepSocers</span><span class="p">)</span> </code></pre></td></tr></table>
</div>
</div>
<p>结果：
当前工作路径为:E:\python_prj</p>

<h1 id="全局变量">全局变量</h1>

<p>全局变量能够在所有的函数中进行访问，但是不能修改。如果在函数中修改全局变量，那么就需要使用global进行声明，否则出错。如果全局变量的名字和局部变量的名字相同，那么使用的是局部变量的</p>

<p>python增加了global关键字， 可以指定变量的作用域。global关键字的作用：声明变量var是全局的。</p>

<p>使用方法：</p>

<blockquote>
<p>global 关键字，后面为变量名，多个变量名使用逗号隔开</p>

<p>函数中使用时，也是先使用global关键字声明全局变量，再使用</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># 播放相关的全局变量</span>
<span class="k">global</span> <span class="n">Play_Flag</span><span class="p">,</span><span class="n">VideoAddr</span>   
<span class="n">Play_Flag</span> <span class="o">=</span> <span class="bp">False</span>   <span class="c1"># 播放控制标志</span>
<span class="n">VideoAddr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>      <span class="c1"># 视频地址</span>

<span class="c1"># 函数中调用（线程其实也是执行函数）</span>
<span class="k">def</span> <span class="nf">Button_Play_Click</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;点击播放按钮&#39;</span><span class="p">)</span>
    <span class="k">global</span> <span class="n">VideoAddr</span><span class="p">,</span><span class="n">Play_Flag</span>
    <span class="n">VideoAddr</span> <span class="o">=</span> <span class="n">Entry_ADDR</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">Play_Flag</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">NewThread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="文件操作">文件操作</h1>

<p>file = open(filename,encoding=&lsquo;UTF-8&rsquo;) #打开文件<br />
file.close() #关闭文件 <strong>忘记关闭文件会导致资源泄露</strong><br />
免不了出现打开失败的情况，所以需要让系统自动关闭文件，方法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span> <span class="c1">#注意此处的缩进</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;打开文件失败&#39;</span><span class="p">)</span>  </code></pre></td></tr></table>
</div>
</div>
<h2 id="open-方法">open() 方法</h2>

<p>Python open() 方法用于打开一个文件，并返回文件对象，在对文件进行处理过程都需要使用到这个函数，如果该文件无法被打开，会抛出 OSError。</p>

<p><strong>注意：</strong>使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。</p>

<p>open() 函数常用形式是接收两个参数：文件名(file)和模式(mode)。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>完整的语法格式为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">buffering</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">closefd</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">opener</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>参数说明:</p>

<ul>
<li>file: 必需，文件路径（相对或者绝对路径）。</li>
<li>mode: 可选，文件打开模式</li>
<li>buffering: 设置缓冲</li>
<li>encoding: 一般使用utf8</li>
<li>errors: 报错级别</li>
<li>newline: 区分换行符</li>
<li>closefd: 传入的file参数类型</li>
<li>opener:</li>
</ul>

<p>mode 参数有：</p>

<table>
<thead>
<tr>
<th align="left">模式</th>
<th align="left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">t</td>
<td align="left">文本模式 (默认)。</td>
</tr>

<tr>
<td align="left">x</td>
<td align="left">写模式，新建一个文件，如果该文件已存在则会报错。</td>
</tr>

<tr>
<td align="left">b</td>
<td align="left">二进制模式。</td>
</tr>

<tr>
<td align="left">+</td>
<td align="left">打开一个文件进行更新(可读可写)。</td>
</tr>

<tr>
<td align="left">U</td>
<td align="left">通用换行模式（<strong>Python 3 不支持</strong>）。</td>
</tr>

<tr>
<td align="left">r</td>
<td align="left">以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>
</tr>

<tr>
<td align="left">rb</td>
<td align="left">以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。</td>
</tr>

<tr>
<td align="left">r+</td>
<td align="left">打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>

<tr>
<td align="left">rb+</td>
<td align="left">以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</td>
</tr>

<tr>
<td align="left">w</td>
<td align="left">打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>

<tr>
<td align="left">wb</td>
<td align="left">以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td>
</tr>

<tr>
<td align="left">w+</td>
<td align="left">打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>

<tr>
<td align="left">wb+</td>
<td align="left">以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td>
</tr>

<tr>
<td align="left">a</td>
<td align="left">打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>

<tr>
<td align="left">ab</td>
<td align="left">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>

<tr>
<td align="left">a+</td>
<td align="left">打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>

<tr>
<td align="left">ab+</td>
<td align="left">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td>
</tr>
</tbody>
</table>

<p>默认为文本模式，如果要以二进制模式打开，加上 <strong>b</strong> 。</p>

<h2 id="file-对象">file 对象</h2>

<p>file 对象使用 open 函数来创建，下表列出了 file 对象常用的函数：</p>

<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">方法及描述</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-close.html">file.close()</a>关闭文件。关闭后文件不能再进行读写操作。</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-flush.html">file.flush()</a>刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件, 而不是被动的等待输出缓冲区写入。</td>
</tr>

<tr>
<td align="left">3</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-fileno.html">file.fileno()</a>返回一个整型的文件描述符(file descriptor FD 整型), 可以用在如os模块的read方法等一些底层操作上。</td>
</tr>

<tr>
<td align="left">4</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-isatty.html">file.isatty()</a>如果文件连接到一个终端设备返回 True，否则返回 False。</td>
</tr>

<tr>
<td align="left">5</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-next.html">file.next()</a><strong>Python 3 中的 File 对象不支持 next() 方法。</strong>返回文件下一行。</td>
</tr>

<tr>
<td align="left">6</td>
<td align="left">[file.read(<a href="https://www.runoob.com/python3/python3-file-read.html">size])</a>从文件读取指定的字节数，如果未给定或为负则读取所有。</td>
</tr>

<tr>
<td align="left">7</td>
<td align="left">[file.readline(<a href="https://www.runoob.com/python3/python3-file-readline.html">size])</a>读取整行，包括 &ldquo;\n&rdquo; 字符。</td>
</tr>

<tr>
<td align="left">8</td>
<td align="left">[file.readlines(<a href="https://www.runoob.com/python3/python3-file-readlines.html">sizeint])</a>读取所有行并返回列表，若给定sizeint&gt;0，返回总和大约为sizeint字节的行, 实际读取值可能比 sizeint 较大, 因为需要填充缓冲区。</td>
</tr>

<tr>
<td align="left">9</td>
<td align="left">[file.seek(offset<a href="https://www.runoob.com/python3/python3-file-seek.html">, whence])</a>设置文件当前位置</td>
</tr>

<tr>
<td align="left">10</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-tell.html">file.tell()</a>返回文件当前位置。</td>
</tr>

<tr>
<td align="left">11</td>
<td align="left">[file.truncate(<a href="https://www.runoob.com/python3/python3-file-truncate.html">size])</a>从文件的首行首字符开始截断，截断文件为 size 个字符，无 size 表示从当前位置截断；截断之后后面的所有字符被删除，其中 Widnows 系统下的换行代表2个字符大小。</td>
</tr>

<tr>
<td align="left">12</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-write.html">file.write(str)</a>将字符串写入文件，返回的是写入的字符长度。</td>
</tr>

<tr>
<td align="left">13</td>
<td align="left"><a href="https://www.runoob.com/python3/python3-file-writelines.html">file.writelines(sequence)</a>向文件写入一个序列字符串列表，如果需要换行则要自己加入每行的换行符。</td>
</tr>
</tbody>
</table>

<h2 id="读文件">读文件</h2>

<p><strong>read()</strong><br />
调用read()会一次性读取文件的全部内容，如果文件有10G，内存就爆了，所以，可以反复调用read(size)方法，每次最多读取size个字节的内容。
<strong>readline()</strong><br />
调用readline()可以每次读取一行内容
<strong>readlines()</strong><br />
调用readlines()一次读取所有内容并按行返回list</p>

<h2 id="写文件">写文件</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;ab&#39;</span><span class="p">)</span>   <span class="c1"># 追加操作</span>
<span class="nb">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">64</span><span class="p">:</span><span class="mi">64</span><span class="o">+</span><span class="n">framelen</span><span class="p">]</span>  <span class="p">)</span>
<span class="nb">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="文件路径">文件路径</h1>

<p>tkFileDialog有两种形式:
askopenfilename(option=value, &hellip;) 这个是&rdquo;打开&rdquo;对话框
asksaveasfilename(option=value, &hellip;) 这个是另存为对话框</p>

<p>option参数如下:</p>

<p>defaultextension = s  默认文件的扩展名</p>

<p>filetypes = [(label1, pattern1), (label2, pattern2), &hellip;]  设置文件类型下拉菜单里的的选项</p>

<p>initialdir = D  对话框中默认的路径</p>

<p>initialfile = F  对话框中初始化显示的文件名</p>

<p>parent = W  父对话框(由哪个窗口弹出就在哪个上端)</p>

<p>title = T  弹出对话框的标题</p>

<p>如果选中文件的话,确认后会显示文件的完整路径,否则单击取消的话会返回空字符串</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span>


<span class="c1"># 保存文件</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Save project as&#39;</span>
<span class="n">ftypes</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Project file&#39;</span><span class="p">,</span> <span class="s1">&#39;.prj&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;All files&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">)]</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">filetypes</span><span class="o">=</span><span class="n">ftypes</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span><span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;.prj&#39;</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="类">类</h1>

<h2 id="类和实体">类和实体</h2>

<p>类是抽象模板，实体是用模板创建的具体对象。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Student</span><span class="err">（</span><span class="nb">object</span><span class="err">）：</span>
	<span class="k">def</span> <span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="p">,</span><span class="n">param2</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">param1</span> <span class="o">=</span> <span class="n">param1</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">param2</span> <span class="o">=</span> <span class="n">param2</span>

<span class="c1">#所有的类都继承于：object 类，Student后括号中为继承的父类</span>
<span class="c1">#特殊方法__init__（两个下划线），类似于构造函数，__init__`方法的第一个参数永远是`self，表示创建的实例本身</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="多线程">多线程</h1>

<h2 id="threading模块创建线程">threading模块创建线程</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">exitFlag</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">class</span> <span class="nc">myThread</span> <span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">):</span>	<span class="c1"># 继承自 threading.Thread</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threadID</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">counter</span><span class="p">):</span>	<span class="c1"># 构造</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">threadID</span> <span class="o">=</span> <span class="n">threadID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">counter</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="p">(</span><span class="s2">&#34;开始线程：&#34;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">print_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="k">print</span> <span class="p">(</span><span class="s2">&#34;退出线程：&#34;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">print_time</span><span class="p">(</span><span class="n">threadName</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">counter</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">counter</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">exitFlag</span><span class="p">:</span>
            <span class="n">threadName</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
        <span class="k">print</span> <span class="p">(</span><span class="s2">&#34;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">threadName</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())))</span>
        <span class="n">counter</span> <span class="o">-=</span> <span class="mi">1</span>

<span class="c1"># 创建新线程</span>
<span class="n">thread1</span> <span class="o">=</span> <span class="n">myThread</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;Thread-1&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">thread2</span> <span class="o">=</span> <span class="n">myThread</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&#34;Thread-2&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 开启新线程</span>
<span class="n">thread1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">thread2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">thread1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span><span class="c1">#让主线程等待子线结束后再做其他事情</span>
<span class="n">thread2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="k">print</span> <span class="p">(</span><span class="s2">&#34;退出主线程&#34;</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="线程停止">线程停止</h2>

<p>在 Python 的多线程编程中，在实例代码中经常有 thread1.join()这样的代码。join的原理就是依次检验线程池中的线程是否结束，没有结束就阻塞直到线程结束，如果结束则跳转执行下一个线程的join函数。</p>

<p>先看看这个：</p>

<ol>
<li><p>阻塞主进程，专注于执行多线程中的程序。</p></li>

<li><p>多线程多join的情况下，依次执行各线程的join方法，前头一个结束了才能执行后面一个。</p></li>

<li><p>无参数，则等待到该线程结束，才开始执行下一个线程的join。</p></li>

<li><p>参数timeout为线程的阻塞时间，如 timeout=2 就是罩着这个线程2s 以后，就不管他了，继续执行下面的代码。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"></pre></td>
<td class="lntd">
<pre class="chroma"></pre></td></tr></table>
</div>
</div></li>
</ol>

<p>当线程结束后，如果想再次启动线程，不能只调用thread.start(),需要重新创建线程，再启动线程。</p>

<h2 id="线程同步">线程同步</h2>

<p>略</p>

<h1 id="时间-日期">时间、日期</h1>

<p>获取时间、日期</p>

<p>函数time.time()用于获取当前时间戳, 如下实例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">time</span><span class="p">;</span>  <span class="c1"># 引入time模块</span>
<span class="n">ticks</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="p">(</span><span class="s2">&#34;当前时间戳为:&#34;</span><span class="p">,</span> <span class="n">ticks</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">当前时间戳为: 1459996086.7115328</pre></td></tr></table>
</div>
</div>
<h2 id="获取当前时间">获取当前时间</h2>

<p>从返回浮点数的时间戳方式向时间元组转换，只要将浮点数传递给如localtime之类的函数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">time</span>

<span class="n">localtime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<span class="k">print</span> <span class="p">(</span><span class="s2">&#34;本地时间为 :&#34;</span><span class="p">,</span> <span class="n">localtime</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">本地时间为 : time.struct_time(tm_year=2016, tm_mon=4, tm_mday=7, tm_hour=10, tm_min=28, tm_sec=49, tm_wday=3, tm_yday=98, tm_isdst=0)</pre></td></tr></table>
</div>
</div>
<h2 id="获取格式化的时间">获取格式化的时间</h2>

<p>你可以根据需求选取各种格式，但是最简单的获取可读的时间模式的函数是asctime():</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">time</span>

<span class="n">localtime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">(</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s2">&#34;本地时间为 :&#34;</span><span class="p">,</span> <span class="n">localtime</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">本地时间为 : Thu Apr  7 10:29:13 2016</pre></td></tr></table>
</div>
</div>
<hr />

<h2 id="格式化日期">格式化日期</h2>

<p>我们可以使用 time 模块的 strftime 方法来格式化日期，：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">format</span><span class="p">[,</span> <span class="n">t</span><span class="p">])</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># 格式化成2016-03-20 11:45:39形式</span>
<span class="k">print</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()))</span>

<span class="c1"># 将格式字符串转换为时间戳</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&#34;Sat Mar 28 22:24:24 2016&#34;</span>
<span class="k">print</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s2">&#34;%a %b </span><span class="si">%d</span><span class="s2"> %H:%M:%S %Y&#34;</span><span class="p">)))</span></code></pre></td></tr></table>
</div>
</div>
<p>以上实例输出结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">2016-04-07 10:29:46
1459175064.0</pre></td></tr></table>
</div>
</div>
<p>python中时间日期格式化符号：</p>

<ul>
<li>%y 两位数的年份表示（00-99）</li>
<li>%Y 四位数的年份表示（000-9999）</li>
<li>%m 月份（01-12）</li>
<li>%d 月内中的一天（0-31）</li>
<li>%H 24小时制小时数（0-23）</li>
<li>%I 12小时制小时数（01-12）</li>
<li>%M 分钟数（00=59）</li>
<li>%S 秒（00-59）</li>
<li>%a 本地简化星期名称</li>
<li>%A 本地完整星期名称</li>
<li>%b 本地简化的月份名称</li>
<li>%B 本地完整的月份名称</li>
<li>%c 本地相应的日期表示和时间表示</li>
<li>%j 年内的一天（001-366）</li>
<li>%p 本地A.M.或P.M.的等价符</li>
<li>%U 一年中的星期数（00-53）星期天为星期的开始</li>
<li>%w 星期（0-6），星期天为星期的开始</li>
<li>%W 一年中的星期数（00-53）星期一为星期的开始</li>
<li>%x 本地相应的日期表示</li>
<li>%X 本地相应的时间表示</li>
<li>%Z 当前时区的名称</li>
<li>%% %号本身</li>
</ul>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Pejoicen</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2019-09-27
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/python/">Python</a>
          <a href="/tags/%E8%AF%AD%E6%B3%95/">语法</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%95%B0%E6%8D%AE%E8%B6%8A%E7%95%8C%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">数据越界问题总结</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E5%88%B0%E6%8E%A7%E4%BB%B6%E4%B8%8A%E6%98%BE%E7%A4%BA%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF/">
            <span class="next-text nav-default">MFC鼠标移动到控件上显示提示信息</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:pejoicen@live.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/Pejoicen" class="iconfont icon-github" title="github"></a>
  <a href="https://pejoicen.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Pejoicen</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.26188efa.min.js"></script>








</body>
</html>
